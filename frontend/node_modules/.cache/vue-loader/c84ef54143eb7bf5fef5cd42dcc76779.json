{"remainingRequest":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\Home.vue","mtime":1604092907160},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9tZSIsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVzdGlvbnM6IFtdLAogICAgICBuZXh0OiBudWxsLAogICAgICBsb2FkaW5nUXVlc3Rpb25zOiBmYWxzZSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFF1ZXN0aW9ucygpIHsKCiAgICAgIGxldCBlbmRwb2ludCA9ICIvYXBpL3F1ZXN0aW9ucy8iOwogICAgICBpZiAodGhpcy5uZXh0KXsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmdRdWVzdGlvbnMgPSB0cnVlCgogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KQogICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgdGhpcy5xdWVzdGlvbnMucHVzaCguLi5kYXRhLnJlc3VsdHMpCiAgICAgICAgICB0aGlzLmxvYWRpbmdRdWVzdGlvbnMgPSBmYWxzZTsKCiAgICAgICAgICBpZihkYXRhLm5leHQpewogICAgICAgICAgICB0aGlzLm5leHQgPSBkYXRhLm5leHQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCl7CiAgICB0aGlzLmdldFF1ZXN0aW9ucygpCiAgICBkb2N1bWVudC50aXRsZSA9ICJRdWVzdGlvblRpbWUiCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnF1ZXN0aW9ucykKICB9Cn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container mt-2\">\n      <div v-for=\"question in questions\"\n                :key=\"question.pk\">\n          <p class=\"mb-0\"> posted by:\n            <span class=\"question-author\"> {{ question.author }} </span>\n          </p>\n          <h2>\n            <router-link\n                  :to=\"{ name:'question', params: { slug: question.slug }  }\"\n                  class=\"question-link\"  >\n              {{ question.content }}\n            </router-link>\n          </h2>\n          <p> Answers: {{ question.answers_count }} </p>\n          <hr>\n      </div>\n\n      <div class=\"my-4\">\n        <p v-show=\"loadingQuestions\">...loading...  </p>\n        <button\n            v-show=\"next\"\n            @click=\"getQuestions\"\n            class=\"btn btn-sm btn-outline-success\"\n        > Load More </button>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"home\",\n  data () {\n    return {\n      questions: [],\n      next: null,\n      loadingQuestions: false,\n    }\n  },\n  methods: {\n    getQuestions() {\n\n      let endpoint = \"/api/questions/\";\n      if (this.next){\n        endpoint = this.next;\n      }\n      this.loadingQuestions = true\n\n      apiService(endpoint)\n        .then(data => {\n          this.questions.push(...data.results)\n          this.loadingQuestions = false;\n\n          if(data.next){\n            this.next = data.next;\n          } else {\n            this.next = null;\n          }\n        })\n    }\n  },\n  created(){\n    this.getQuestions()\n    document.title = \"QuestionTime\"\n    // console.log(this.questions)\n  }\n};\n</script>\n\n\n<style scoped>\n.question-author{\n  font-weigh: bold;\n  color: #DC3545;\n}\n\n.question-link{\n  font-weight: bold;\n  color: black;\n}\n\n.question-link:hover {\n  color: #343A40;\n  text-decoration: none;\n}\n\n</style>\n"]}]}