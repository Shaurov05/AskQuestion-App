{"remainingRequest":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\AnswerEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\AnswerEditor.vue","mtime":1604155774990},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkFuc3dlckVkaXRvciIsDQogIHByb3BzOiB7DQogICAgaWQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgcHJldmlvdXNBbnN3ZXI6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgcXVlc3Rpb25TbHVnOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9DQogIH0sDQoNCiAgZGF0YSAoKXsNCiAgICByZXR1cm4gew0KICAgICAgYW5zd2VyQm9keTogdGhpcy5wcmV2aW91c0Fuc3dlciwNCiAgICAgIGVycm9yOiBudWxsLA0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgb25TdWJtaXQgKCkgew0KICAgICAgaWYodGhpcy5hbnN3ZXJCb2R5KXsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvYW5zd2Vycy8ke3RoaXMuaWR9L2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQVVQiLCB7IGJvZHk6IHRoaXMuYW5zd2VyQm9keSB9KQ0KICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICAgICAgbmFtZTogInF1ZXN0aW9uIiwNCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgc2x1ZzogdGhpcy5xdWVzdGlvblNsdWcgfQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZXJyb3IgPSAiWW91IGNhbid0IHN1Ym1pdCBhbiBlbXB0eSBhbnN3ZXIhIjsNCiAgICAgIH0NCiAgICB9DQogIH0sDQoNCiAgYXN5bmMgYmVmb3JlUm91dGVFbnRlciAodG8sIGZyb20sIG5leHQpew0KICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL2Fuc3dlcnMvJHt0by5wYXJhbXMuaWR9L2A7DQogICAgbGV0IGRhdGEgPSBhd2FpdCBhcGlTZXJ2aWNlKGVuZHBvaW50KTsNCiAgICB0by5wYXJhbXMucHJldmlvdXNBbnN3ZXIgPSBkYXRhLmJvZHk7DQogICAgdG8ucGFyYW1zLnF1ZXN0aW9uU2x1ZyA9IGRhdGEucXVlc3Rpb25fc2x1ZzsNCiAgICByZXR1cm4gbmV4dCgpDQogIH0NCiAgLy8gYXN5bmMgYmVmb3JlUm91dGVFbnRlciAodG8sIGZyb20sIG5leHQpew0KICAvLyAgIGxldCBlbmRwb2ludCA9IGAvYXBpL2Fuc3dlcnMvJHt0by5wYXJhbXMuaWR9L2A7DQogIC8vICAgbGV0IGRhdGEgPSBhd2FpdCBhcGlTZXJ2aWNlKGVuZHBvaW50KTsNCiAgLy8gICByZXR1cm4gbmV4dCh2bT0+ew0KICAvLyAgICAgdm0uYW5zd2VyQm9keSA9IGRhdGEuYm9keSwNCiAgLy8gICAgIHZtLnF1ZXN0aW9uU2x1ZyA9IGRhdGEucXVlc3Rpb25fc2x1Zw0KICAvLyAgIH0pDQogIC8vIH0NCg0KfQ0KDQo="},{"version":3,"sources":["AnswerEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"AnswerEditor.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\r\n  <div class=\"container mt-2\">\r\n    <h1 class=\"mb-2\"> Edit your Answer </h1>\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <textarea\r\n            v-model=\"answerBody\"\r\n            rows=\"3\"\r\n            class=\"form-control\"\r\n      > </textarea>\r\n      <br>\r\n      <button\r\n            type=\"submit\"\r\n            class=\"btn btn-success\"\r\n            >Publish your Answer\r\n      </button>\r\n    </form>\r\n\r\n    <p v-if=\"error\" class=\"muted mt-2\" > {{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\"\r\n\r\nexport default {\r\n  name: \"AnswerEditor\",\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    previousAnswer: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    questionSlug: {\r\n      type: String,\r\n      required: true,\r\n    }\r\n  },\r\n\r\n  data (){\r\n    return {\r\n      answerBody: this.previousAnswer,\r\n      error: null,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onSubmit () {\r\n      if(this.answerBody){\r\n        let endpoint = `/api/answers/${this.id}/`;\r\n        apiService(endpoint, \"PUT\", { body: this.answerBody })\r\n            .then(() => {\r\n              this.$router.push({\r\n                name: \"question\",\r\n                params: { slug: this.questionSlug }\r\n              })\r\n            })\r\n      } else {\r\n        this.error = \"You can't submit an empty answer!\";\r\n      }\r\n    }\r\n  },\r\n\r\n  async beforeRouteEnter (to, from, next){\r\n    let endpoint = `/api/answers/${to.params.id}/`;\r\n    let data = await apiService(endpoint);\r\n    to.params.previousAnswer = data.body;\r\n    to.params.questionSlug = data.question_slug;\r\n    return next()\r\n  }\r\n  // async beforeRouteEnter (to, from, next){\r\n  //   let endpoint = `/api/answers/${to.params.id}/`;\r\n  //   let data = await apiService(endpoint);\r\n  //   return next(vm=>{\r\n  //     vm.answerBody = data.body,\r\n  //     vm.questionSlug = data.question_slug\r\n  //   })\r\n  // }\r\n\r\n}\r\n\r\n</script>\r\n"]}]}