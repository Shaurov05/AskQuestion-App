{"remainingRequest":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\QuestionEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\QuestionEditor.vue","mtime":1604159538743},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJRdWVzdGlvbkVkaXRvciIsDQogIHByb3BzOiB7DQogICAgc2x1Zzogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgfSwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBxdWVzdGlvbl9ib2R5OiBudWxsLA0KICAgICAgZXJyb3I6IG51bGwNCiAgICB9DQogIH0sDQoNCiAgbWV0aG9kcyA6ew0KICAgIG9uU3VibWl0KCl7DQogICAgICBpZighdGhpcy5xdWVzdGlvbl9ib2R5KXsNCiAgICAgICAgICB0aGlzLmVycm9yID0gIllvdSBjYW4ndCBzZW5kIGFuIGVtcHR5IHF1ZXN0aW9uISI7DQogICAgICB9IGVsc2UgaWYgKHRoaXMucXVlc3Rpb25fYm9keS5sZW5ndGggPiAyNDApIHsNCiAgICAgICAgICB0aGlzLmVycm9yID0gIkVuc3VyZSB0aGlzIGZpZWxkIGhhcyBubyBtb3JlIHRoYW4gMjQwIGNoYXJhY3RlcnMhIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgICAgbGV0IGVuZHBvaW50ID0gIi9hcGkvcXVlc3Rpb25zLyI7DQogICAgICAgICAgbGV0IG1ldGhvZCA9ICJQT1NUIjsNCiAgICAgICAgICBpZiAodGhpcy5zbHVnICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIGVuZHBvaW50ICs9IGAkeyB0aGlzLnNsdWcgfS9gIDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCBtZXRob2QsIHsgY29udGVudDogdGhpcy5xdWVzdGlvbl9ib2R5IH0pDQogICAgICAgICAgICAgIC50aGVuKHF1ZXN0aW9uX2RhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICAgICAgICBuYW1lOidxdWVzdGlvbicsDQogICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBzbHVnOiBxdWVzdGlvbl9kYXRhLnNsdWcgfQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgfSwNCg0KICBhc3luYyBiZWZvcmVSb3V0ZUVudGVyICggdG8sIGZyb20sIG5leHQgKSB7DQogICAgaWYgKHRvLnBhcmFtcy5zbHVnICE9PSB1bmRlZmluZWQpIHsNCiAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3F1ZXN0aW9ucy8keyB0by5wYXJhbXMuc2x1ZyB9L2A7DQogICAgICBsZXQgZGF0YSA9IGF3YWl0IGFwaVNlcnZpY2UoZW5kcG9pbnQpOw0KICAgICAgcmV0dXJuIG5leHQoIHZtID0+IHsNCiAgICAgICAgdm0ucXVlc3Rpb25fYm9keSA9IGRhdGEuY29udGVudA0KICAgICAgfSkNCiAgICB9IGVsc2V7DQogICAgICByZXR1cm4gbmV4dCgpDQogICAgfQ0KICB9LA0KDQogIGNyZWF0ZWQoKXsNCiAgICBkb2N1bWVudC50aXRsZSA9ICJFZGl0b3IgLSBRdWVzdGlvblRpbWUiOw0KICB9DQp9DQoNCg=="},{"version":3,"sources":["QuestionEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"QuestionEditor.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\r\n  <div class=\"container mt-2\">\r\n    <h1 class=\"mb-2\">  Ask Question </h1>\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <textarea\r\n            v-model=\"question_body\"\r\n            rows=\"3\"\r\n            class=\"form-control\"\r\n            placeholder=\"What do you want to ask?\"\r\n      > </textarea>\r\n      <br>\r\n      <button\r\n            type=\"submit\"\r\n            class=\"btn btn-success\"\r\n       >Publish</button>\r\n    </form>\r\n\r\n    <p v-if=\"error\" class=\"muted mt-2\" > {{ error }}</p>\r\n  </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\n\r\nexport default {\r\n  name: \"QuestionEditor\",\r\n  props: {\r\n    slug: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      question_body: null,\r\n      error: null\r\n    }\r\n  },\r\n\r\n  methods :{\r\n    onSubmit(){\r\n      if(!this.question_body){\r\n          this.error = \"You can't send an empty question!\";\r\n      } else if (this.question_body.length > 240) {\r\n          this.error = \"Ensure this field has no more than 240 characters!\";\r\n      } else {\r\n          let endpoint = \"/api/questions/\";\r\n          let method = \"POST\";\r\n          if (this.slug !== undefined) {\r\n            endpoint += `${ this.slug }/` ;\r\n          }\r\n\r\n          apiService(endpoint, method, { content: this.question_body })\r\n              .then(question_data => {\r\n                  this.$router.push({\r\n                    name:'question',\r\n                    params: { slug: question_data.slug }\r\n                  })\r\n              })\r\n          }\r\n        }\r\n  },\r\n\r\n  async beforeRouteEnter ( to, from, next ) {\r\n    if (to.params.slug !== undefined) {\r\n      let endpoint = `/api/questions/${ to.params.slug }/`;\r\n      let data = await apiService(endpoint);\r\n      return next( vm => {\r\n        vm.question_body = data.content\r\n      })\r\n    } else{\r\n      return next()\r\n    }\r\n  },\r\n\r\n  created(){\r\n    document.title = \"Editor - QuestionTime\";\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}