{"remainingRequest":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\Question.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\src\\views\\Question.vue","mtime":1604162745356},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Shaurov\\rest projects\\rest_course\\QuestionTime\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9TaGF1cm92L3Jlc3QgcHJvamVjdHMvcmVzdF9jb3Vyc2UvUXVlc3Rpb25UaW1lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9TaGF1cm92L3Jlc3QgcHJvamVjdHMvcmVzdF9jb3Vyc2UvUXVlc3Rpb25UaW1lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmltcG9ydCBBbnN3ZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL0Fuc3dlci52dWUiOwppbXBvcnQgUXVlc3Rpb25BY3Rpb25zIGZyb20gIkAvY29tcG9uZW50cy9RdWVzdGlvbkFjdGlvbi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlF1ZXN0aW9uIiwKICBwcm9wczogewogICAgc2x1ZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBbnN3ZXJDb21wb25lbnQ6IEFuc3dlckNvbXBvbmVudCwKICAgIFF1ZXN0aW9uQWN0aW9uczogUXVlc3Rpb25BY3Rpb25zCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlc3Rpb246IHt9LAogICAgICBhbnN3ZXJzOiBbXSwKICAgICAgbmV3QW5zd2VyQm9keTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHVzZXJIYXNBbnN3ZXJlZDogZmFsc2UsCiAgICAgIHNob3dGb3JtOiBmYWxzZSwKICAgICAgbG9hZGluZ0Fuc3dlcnM6IGZhbHNlLAogICAgICBuZXh0OiBudWxsLAogICAgICByZXF1ZXN0VXNlcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1F1ZXN0aW9uQXV0aG9yOiBmdW5jdGlvbiBpc1F1ZXN0aW9uQXV0aG9yKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVzdGlvbi5hdXRob3IgPT09IHRoaXMucmVxdWVzdFVzZXI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRQYWdlVGl0bGU6IGZ1bmN0aW9uIHNldFBhZ2VUaXRsZSh0aXRsZSkgewogICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlOwogICAgfSwKICAgIHNldFJlcXVlc3RVc2VyOiBmdW5jdGlvbiBzZXRSZXF1ZXN0VXNlcigpIHsKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKTsKICAgIH0sCiAgICBnZXRRdWVzdGlvbkRhdGE6IGZ1bmN0aW9uIGdldFF1ZXN0aW9uRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3F1ZXN0aW9ucy8iLmNvbmNhdCh0aGlzLnNsdWcsICIvIik7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgX3RoaXMucXVlc3Rpb24gPSBkYXRhOwogICAgICAgICAgX3RoaXMudXNlckhhc0Fuc3dlcmVkID0gZGF0YS51c2VyX2hhc19hbnN3ZXJlZDsKCiAgICAgICAgICBfdGhpcy5zZXRQYWdlVGl0bGUoX3RoaXMucXVlc3Rpb24uY29udGVudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLnF1ZXN0aW9uID0gbnVsbDsKCiAgICAgICAgICBfdGhpcy5zZXRQYWdlVGl0bGUoIjQwNCAtIFBhZ2UgTm90IEZvdW5kIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRRdWVzdGlvbkFuc3dlcnM6IGZ1bmN0aW9uIGdldFF1ZXN0aW9uQW5zd2VycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBnZXQgYSBwYWdlIG9mIGFuc3dlcnMgZm9yIGEgc2luZ2xlIHF1ZXN0aW9uIGZyb20gdGhlIFJFU1QgQVBJJ3MgcGFnaW5hdGVkICdRdWVzdGlvbnMgRW5kcG9pbnQnCiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3F1ZXN0aW9ucy8iLmNvbmNhdCh0aGlzLnNsdWcsICIvYW5zd2Vycy8iKTsKCiAgICAgIGlmICh0aGlzLm5leHQpIHsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nQW5zd2VycyA9IHRydWU7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB2YXIgX3RoaXMyJGFuc3dlcnM7CgogICAgICAgIChfdGhpczIkYW5zd2VycyA9IF90aGlzMi5hbnN3ZXJzKS5wdXNoLmFwcGx5KF90aGlzMiRhbnN3ZXJzLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5yZXN1bHRzKSk7CgogICAgICAgIF90aGlzMi5sb2FkaW5nQW5zd2VycyA9IGZhbHNlOwoKICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICBfdGhpczIubmV4dCA9IGRhdGEubmV4dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLm5leHQgPSBudWxsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIFRlbGwgdGhlIFJFU1QgQVBJIHRvIGNyZWF0ZSBhIG5ldyBhbnN3ZXIgZm9yIHRoaXMgcXVlc3Rpb24gYmFzZWQgb24gdGhlIHVzZXIgaW5wdXQsIHRoZW4gdXBkYXRlIHNvbWUgZGF0YSBwcm9wZXJ0aWVzCiAgICAgIGlmICh0aGlzLm5ld0Fuc3dlckJvZHkpIHsKICAgICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9xdWVzdGlvbnMvIi5jb25jYXQodGhpcy5zbHVnLCAiL2Fuc3dlci8iKTsKICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsKICAgICAgICAgIGJvZHk6IHRoaXMubmV3QW5zd2VyQm9keQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIC8vIFRoZSB1bnNoaWZ0KCkgbWV0aG9kIGlzIHVzZWQgdG8gYWRkIG9uZQogICAgICAgICAgLy8gb3IgbW9yZSBlbGVtZW50cyB0byB0aGUgYmVnaW5uaW5nIG9mIGFuCiAgICAgICAgICAvLyBhcnJheSBhbmQgcmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LgogICAgICAgICAgX3RoaXMzLmFuc3dlcnMudW5zaGlmdChkYXRhKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLm5ld0Fuc3dlckJvZHkgPSBudWxsOwogICAgICAgIHRoaXMuc2hvd0Zvcm0gPSBmYWxzZTsKICAgICAgICB0aGlzLnVzZXJIYXNBbnN3ZXJlZCA9IHRydWU7CgogICAgICAgIGlmICh0aGlzLmVycm9yKSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICJZb3UgY2FuJ3Qgc2VuZCBhbiBlbXB0eSBhbnN3ZXIhIjsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUFuc3dlcjogZnVuY3Rpb24gZGVsZXRlQW5zd2VyKGFuc3dlcikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGVuZHBvaW50OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gIi9hcGkvYW5zd2Vycy8iLmNvbmNhdChhbnN3ZXIuaWQsICIvIik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJERUxFVEUiKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXM0LiRkZWxldGUoX3RoaXM0LmFuc3dlcnMsIF90aGlzNC5hbnN3ZXJzLmluZGV4T2YoYW5zd2VyKSk7CgogICAgICAgICAgICAgICAgX3RoaXM0LnVzZXJIYXNBbnN3ZXJlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRRdWVzdGlvbkRhdGEoKTsKICAgIHRoaXMuZ2V0UXVlc3Rpb25BbnN3ZXJzKCk7CiAgICB0aGlzLnNldFJlcXVlc3RVc2VyKCk7IC8vIGNvbnNvbGUubG9nKHRoaXMucXVlc3Rpb25zKQogIH0KfTs="},{"version":3,"sources":["Question.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n<div class=\"single-question mt-2\">\r\n  <div v-if=\"question\" class=\"container\">\r\n    <h1> {{ question.content }} </h1>\r\n    <QuestionActions\r\n        v-if=\"isQuestionAuthor\"\r\n        :slug=\"question.slug\"\r\n    />\r\n    <p class=\"mb-0\"> posted by:\r\n      <span class=\"author-name\"> {{ question.author }} </span>\r\n    </p>\r\n\r\n    <p class=\"mb-0\">\r\n      {{ question.created_at }}\r\n    </p>\r\n    <hr>\r\n    <div v-if=\"userHasAnswered\">\r\n        <p class=\"answer-added\"> You've written an answer! </p>\r\n    </div>\r\n    <div v-else-if=\"showForm\">\r\n      <form class=\"card\" @submit.prevent=\"onSubmit\">\r\n        <div class=\"card-header px-3\">\r\n          Answer the Question\r\n        </div>\r\n        <div class=\"card-block\">\r\n          <textarea\r\n            v-model=\"newAnswerBody\"\r\n            class=\"form-control\"\r\n            placeholder=\"Share your knowledge\"\r\n            rows=\"5\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div card=\"card-footer px-3 mt-2\">\r\n          <br>\r\n          <button class=\"btn btn-sm btn-success\"\r\n              > Submit Your Answer\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <p v-if=\"error\" class=\"error mt-2\"> {{ error }} </p>\r\n    </div>\r\n    <div v-else>\r\n      <button\r\n          class=\"btn btn-sm btn-success\"\r\n          @click=\"showForm = true\"\r\n          > Answer the Question\r\n\r\n      </button>\r\n    </div>\r\n    <hr>\r\n  </div>\r\n\r\n  <div v-else>\r\n    <h1 class=\"error text-center\"> <br><br><br> 404 - Question Not Found </h1>\r\n  </div>\r\n\r\n  <div v-if=\"question\" class=\"container\">\r\n      <AnswerComponent\r\n        v-for=\"answer in answers\"\r\n        :key=\"answer.id\"\r\n        :requestUser=\"requestUser\"\r\n        :answer=\"answer\"\r\n        @delete-answer=\"deleteAnswer\"\r\n      />\r\n\r\n    <div class=\"my-4\">\r\n      <p v-show=\"loadingAnswers\">...loading...  </p>\r\n      <button\r\n          v-show=\"next\"\r\n          @click=\"getQuestionAnswers\"\r\n          class=\"btn btn-sm btn-outline-success\"\r\n      > Load More </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport AnswerComponent from \"@/components/Answer.vue\";\r\nimport QuestionActions from \"@/components/QuestionAction.vue\";\r\n\r\nexport default {\r\n  name: \"Question\",\r\n  props: {\r\n    slug: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n\r\n  },\r\n\r\n  components : {\r\n    AnswerComponent,\r\n    QuestionActions,\r\n  },\r\n\r\n  data(){\r\n    return {\r\n      question: {},\r\n      answers: [],\r\n      newAnswerBody: null,\r\n      error: null,\r\n      userHasAnswered: false,\r\n      showForm: false,\r\n      loadingAnswers: false,\r\n      next: null,\r\n      requestUser: null,\r\n\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    isQuestionAuthor() {\r\n      return this.question.author === this.requestUser;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    setPageTitle(title){\r\n      document.title = title;\r\n    },\r\n    setRequestUser() {\r\n      this.requestUser = window.localStorage.getItem(\"username\");\r\n    },\r\n    getQuestionData(){\r\n      let endpoint = `/api/questions/${this.slug}/`;\r\n      apiService(endpoint)\r\n          .then(data => {\r\n            if (data) {\r\n              this.question = data;\r\n              this.userHasAnswered = data.user_has_answered;\r\n              this.setPageTitle(this.question.content)\r\n            } else {\r\n              this.question = null;\r\n              this.setPageTitle(\"404 - Page Not Found\")\r\n            }\r\n          })\r\n    },\r\n\r\n    getQuestionAnswers() {\r\n      // get a page of answers for a single question from the REST API's paginated 'Questions Endpoint'\r\n      let endpoint = `/api/questions/${this.slug}/answers/`;\r\n      if (this.next){\r\n        endpoint = this.next;\r\n      }\r\n      this.loadingAnswers = true;\r\n\r\n      apiService(endpoint)\r\n        .then(data => {\r\n          this.answers.push(...data.results);\r\n          this.loadingAnswers = false;\r\n\r\n          if(data.next){\r\n            this.next = data.next;\r\n          } else {\r\n            this.next = null;\r\n          }\r\n        })\r\n    },\r\n\r\n    onSubmit() {\r\n      // Tell the REST API to create a new answer for this question based on the user input, then update some data properties\r\n      if (this.newAnswerBody) {\r\n        let endpoint = `/api/questions/${this.slug}/answer/`;\r\n        apiService(endpoint, \"POST\", { body: this.newAnswerBody })\r\n          .then(data => {\r\n            // The unshift() method is used to add one\r\n            // or more elements to the beginning of an\r\n            // array and return the length of the array.\r\n            this.answers.unshift(data)\r\n          })\r\n        this.newAnswerBody = null;\r\n        this.showForm = false;\r\n        this.userHasAnswered = true;\r\n        if (this.error) {\r\n          this.error = null;\r\n        }\r\n      } else {\r\n        this.error = \"You can't send an empty answer!\";\r\n      }\r\n    },\r\n\r\n    async deleteAnswer(answer) {\r\n      let endpoint = `/api/answers/${answer.id}/`;\r\n      try {\r\n        await apiService(endpoint, \"DELETE\")\r\n          this.$delete(this.answers, this.answers.indexOf(answer))\r\n          this.userHasAnswered = false;\r\n        }\r\n      catch(err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n  created() {\r\n    this.getQuestionData()\r\n    this.getQuestionAnswers()\r\n    this.setRequestUser()\r\n    // console.log(this.questions)\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.author-name{\r\n  font-weigh: bold;\r\n  color: #DC3545;\r\n}\r\n.answer-added {\r\n  font-weight: bold;\r\n  color: green;\r\n}\r\n.error {\r\n  font-weight: bold;\r\n  color: red;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}